{% if paginator %}
    {% assign posts = paginator.posts %}
{% else %}
    {% assign posts = site.posts %}
{% endif %}
{% if paginator %}
    {% assign posts = paginator.posts %}
{% else %}
    {% assign posts = site.posts %}
{% endif %}

{% assign categories_max = 0 %}
{% for category in site.categories %}
    {% if category[1].size > categories_max %}
        {% assign categories_max = category[1].size %}
    {% endif %}
{% endfor %}

<div class="btn-group" role="group" aria-label="Categories List">
    {% for i in (1..categories_max) reversed %}
        {% for category in site.categories %}
            {% assign category_size = category[1].size %}
            {% if category_size == i %}
                {% assign category_name = category | first %}
                <span class="badge bg-info-subtle border border-info-subtle text-info-emphasis rounded-pill">
                    <a href="{{ site.baseurl }}/categories/{{ category_name | slugify }}">{{ category_name }}</a>
                    <span class="vr mx-2"></span>
                    <span class="badge bg-info rounded-pill">{{ category_size }}</span>
                </span>
            {% endif %}
        {% endfor %}
    {% endfor %}
</div>

<hr>

{% for post in posts %}
    {% include post-partial.html %}
{% endfor %}